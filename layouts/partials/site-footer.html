<footer class="{{ .Site.Params.background_color_class | default "bg-black" }} bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="{{ .Site.BaseURL }}" >
    &copy; {{ now.Format "2006" }} {{ .Site.Title }}
  </a>
    <div>{{ partial "social-follow.html" . }}</div>
  </div>
</footer>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/javascript">
  // for all images, if src is incorrect (result of nbconver + hugo), fix it
  const images = document.getElementsByTagName("img");
  for (const image of images) {
    const oldSrc = image.src;
    const correctedSrc = getCorrectedSrc(oldSrc);
    image.src = correctedSrc;
  }

  // getCorrectedSrc(oldSrc) shall fix img src for html generated by nbconver + hugo
  // basically, it will replace `http://whatever.com/[something]/[something]_files/image.png` with `http://whatever.com/[something]_files/image.png
  function getCorrectedSrc(oldSrc) {
    const regex = /(.*)\/([a-z0-9_\- ]*)\/([a-z0-9_\- ]*)_files\/(.*)/gmi;
    const matches = regex.exec(oldSrc);
    if (matches && matches[2] === matches[3]) {
      const prefix = matches[1];
      const title = matches[2];
      const sufix = matches[4];
      return [prefix, title+"_files", sufix].join("/");
    }
    return oldSrc;
  }
</script>
